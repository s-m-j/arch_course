---
layout: default
---

<!DOCTYPE html>
<html>
  <head>
    <title>Паттерны интеграции для корпоративных приложений</title>
  </head>
  <body>
    <h1>Паттерны интеграции для корпоративных приложений</h1>
    <h2>Потребность в шаблонах интеграции</h2>
    <p>
      Современные предприятия используют тысячи приложений. Многие из них
      являются "коробочными", некоторые из них являются собственными
      приложениями, а некоторые являются устаревшими приложениями, которые были
      частью предприятия в течение очень долгого времени. Из за огромного
      количества приложений, сотрудники физически не могут получить доступ к
      каждому из них по отдельности.
    </p>
    <p>
      Почему на предприятии требуется так много приложений? Ответ на этот вопрос
      заключается в том, что каждое предприятие имеет тысячи бизнес-функций,
      которые невозможно выполнить с помощью одного приложения. Даже комплексные
      ERP системы обеспечивают очень ограниченные функции по сравнению с
      реальными потребностями предприятия.
    </p>
    <p>
      Еще одной причиной большого разнообразия приложений является желание
      обеспечить неприрывность функционирования предприятия, чтобы остановка
      одного приложения (например, период обслуживания) не влияла на организацию
      в целом
    </p>
    <p>
      Поставщики на рынке традиционно поставляли приложения, ориентированные на
      удовлетворение потребностей конкретных бизнес-функций. Однако в связи с
      динамикой изменения различных бизнес-функций поставщики пытаются
      интегрировать множество функций в одно бизнес-приложение и границы
      приложений становятся размытыми
    </p>
    <p>
      В современном мире существует множество новых парадигм, таких как
      приложения для социальных сетей, приложения на базе Интернета вещей (IoT),
      облачные приложения, микросервисовисные приложения и так далее. Чтобы
      обеспечить беспрепятственный обмен данными и поддержку сквозных
      бизнес-процессов на предприятии, необходимо реализовать интеграцию всех
      приложений. Разнообразие типов приложений привело к необходимости
      разработки формулировки принципов и стандартных подходов организации
      интеграционной платформы, чтобы оставаться конкурентоспособными в условиях
      современной динамики постоянно меняющегося мира и, соответственно,
      ожиданий клиентов
    </p>
    <p>
      В этой области нет простых путей решения, современное предприятие
      существует в сложном меняющемся мире. Нет готовых фреймворков и кода
      которые можно было бы просто применить и получить интегрированное
      комплексное приложение из нескольких, но шаблоны предлагают типовые
      подходы к решению возникающих проблем и за счет этого облегчают задачу
      интеграции.
    </p>
    <h2>Типовые сценарии корпоративной интеграции</h2>
    <p>
      Понятие интеграции - это очень широкая область. Однако наиболее
      распространенными сценариями интеграции на предприятиях являются
      следующие:
    </p>
    <ul>
      <li>B2B интеграция</li>
      <li>
        Информационные порталы (общий интерфейс для данных из разных приложений)
      </li>
      <li>
        Сквозные бизнес-процессы (когда этапы единого процесса реализованы с
        момощью разных приложений)
      </li>
      <li>
        Общие бизнес-функции (импользуемые в разных процессах предприятия)
      </li>
      <li>Сервис ориентированная архитектура корпоративной системы</li>
      <li>
        Репликация данных (для использования согласованных данных в разных
        системах)
      </li>
    </ul>
    <p>Рассмотрим подробнее некоторые сценарии</p>
    <h2>B2B интеграция</h2>
    <p>
      Современным предприятиям необходимо взаимодействовать с внешним по
      отношению к их экосистеме миром. И это не только клиенты, это и поставщики
      и регулирующие органы и так далее. Часто возникает необходимость дать
      партнерам доступ к какому то внутреннему сервису либо наоборот получить
      данные из сервиса партнера. Такие сценарии приводят к возникновению
      ситуаций, требующих интеграции между предприятиями. Это не такая простая
      задача, как интеграция приложений внутри предприятия. В первую очередь это
      связано с тем, что приходится учитывать множество аспектовбезопасности,
      возможных юридических последствий и так далее.
    </p>
    <img src="./media/01_b2b.png" />
    <h2>Основные проблемы корпоративной интеграции</h2>
    <p>
      Все интеграционные решения в той или иной мере сталкиваются со следующими
      проблемами"
    </p>
    <ul>
      <li>
        <b>Ненадежность и низкая скорость передачи в глобальных сетях</b>В
        рамках корпоративной интеграции необходим обмен данными между
        приложениями. Эти приложения могут находиться в разных городах, странах
        или даже на разных континентах. Для передачи данных используются
        локальные или глобальные сети или их комбинация. Передача данных по
        различным сетевым топологиям и протоколам приводит к значительным
        задержкам передачи и а иногда и сбоям.
      </li>
      <li>
        <b>Гетерогенность информационных систем</b> В рамках интеграции
        приходится передавать информацию между системами написанными на разных
        языках, работающих на разных платформах и использующими различные
        форматы данных. Для этого приходится создавать решения объединяющие все
        используемые технологии
      </li>
      <li>
        <b>Непрерывные изменения</b> Приложения изменяются с течением времени.
        Появляются новые функции и потоки данных, некоторый функционал может
        стать устаревшим. Интеграционные решения должны все это учитывать.
      </li>

      <li>
        <b>Проблемы безопасности</b> При перемещении данных за границы
        предприятия возникают дополнительные проблемы защиты данных. Особенно
        это касатеся чувствительных данных защите которых закреплена
        законодательно
      </li>
    </ul>
    <p>
      Со временем, разработчики выработали несколько типовых подходов к решению
      проблем корпоративной интеграции:
    </p>
    <h2>Файловый обмен</h2>
    <p>
      В данном случае файл является основным режимом передачи данных между
      приложениями, которые необходимо интегрировать. Одно приложение выполнит
      операцию записи в файл, который будет прочитан другим приложением. Однако
      для того, чтобы это произошло успешно и оказало необходимое воздействие,
      участвующим приложениям важно согласовать следующее:
    </p>
    <ul>
      <li>имя и расположение файла</li>
      <li>Формат файла</li>
      <li>Когда файл должен быть записан и прочитан</li>
      <li>Кто отвечает за удаление файла</li>
    </ul>
    <h2>Общая база данных</h2>
    <p>
      В этом случае база данных становится точкой, в которой происходит
      интеграция. Несколько приложений, которые необходимо интегрировать,
      используют общую схему базы данных, которая находится в одной базе данных.
      Это предотвращает дублирование данных и исключает необходимость передачи
      данных из одного приложения в другое.
    </p>
    <h2>Удаленный вызов процедур (RPC)</h2>
    <p>
      В этом случае интеграция приложений происходит через некоторый
      функциональный интерфейс, предоставляемые одним из приложений. Другие
      приложения получают удаленный доступ к этим функциям в виде удаленной
      процедуры. Процесс вызова этих функциональных возможностей в виде
      удаленной процедуры называется удаленным вызовом процедуры (RPC).
      Удаленный вызов процедуры происходит в режиме реального времени и
      представляет собой синхронную связь.
    </p>
    <h2>Обмен сообщениями (Messaging)</h2>
    <p>
      В этом случае интеграция приложений происходит посредством обмена
      сообщениями. Одно из приложений публикует сообщение в канале обмена
      сообщениями, доступном для всех других приложений. Другие приложения
      получают доступ к каналу обмена сообщениями и получают сообщение в
      какой-то более поздний момент времени. Единственным критерием здесь
      является то, что задействованные приложения должны иметь заранее
      определенное соглашение о канале обмена сообщениями и формате сообщения,
      которое отправляется на этот канал.
    </p>
    <h2>Начало работы с шаблонами обмена сообщениями</h2>
    <p>
      Обмен сообщениями - это надежный метод соединения приложений с помощью
      концепции пакетов, называемых сообщениями. Эти пакеты отправляются по
      каналам, которые представляют собой логические пути, обеспечивающие
      взаимосвязь между приложениями. Эти каналы также называются очередями.
      Несколько сообщений могут быть помещены в очередь в канале и могут быть
      доступны нескольким приложениям одновременно. Существует два основных типа
      ролей для обмена сообщениями:
    </p>
    <ul>
      <li>Отправитель/Sender/Producer</li>
      <li>Получателт/Receiver/Сonsumer</li>
    </ul>
    <p>
      Отправитель - это приложение, размещающее сообщение в канал. Получатель -
      это приложение, которое считывает сообщение из канала. Обмен сообщениями -
      это асинхронный способ связи, означающий, что получателю нет необходимости
      считывать сообщение из канала сразу после отправки.
    </p>
    <p>
      Сообщение может представлять собой любую структуру данных, такую как
      массив, строка или объект. Каждое сообщение состоит из двух частей:
    </p>
    <ul>
      <li>Заголовок</li>
      <li>Тело</li>
    </ul>
    <p>
      Заголовок содержит метаданные о сообщении, такие как сведения об
      отправителе, получателе, временная метка и т.д. Эта информация
      используется системой обмена сообщениями, но обычно игнорируется
      приложениями. Тело сообщения содержит фактические данные, которые
      отправляются приложением. Основная часть сообщения игнорируется системой
      обмена сообщениями, но используется приложениями.
    </p>
    <p>
      Возможности обмена сообщениями предоставляются системе специализированным
      программным обеспечением, называемым message-oriented middleware (MOM).
      MOM также называют системой обмена сообщениями. MOM требуется для
      обеспечения бесперебойной передачи сообщений между приложениями. Одной из
      основных причин существования MOM является ненадежное состояние сетей,
      соединяющих системы. Даже если приложение отправляет сообщение, оно
      необязательно дойдет до адресата. MOM помогает преодолеть эту эту
      проблему, и обеспечивает повторную передачу сообщения до тех пор, пока оно
      не достигнет адресата. Взаимодействие приложений посредством обмена
      сообщениями показано на следующей диаграмме:
    </p>
    <img src="./media/02_messaging.png" />
    <p>передача сообщения включает пять последовательных шагов:</p>
    <ol>
      <li>
        <b>Создание (Create): </b>Отпраитель формирует сообщение объединяя
        заголовок и тело документа
      </li>
      <li><b>Отправка (Send): </b>Отправитель направляет сообщение в канал</li>
      <li>
        <b>Доставка (Deliver): </b>Система обмена сообщениями доставляет
        сообщение в систему получателя
      </li>
      <li>
        <b>Получение (Receive): </b>Получатель читает сообщение из каналаБ
      </li>
      <li>
        <b>Обработка (Process): </b>Получатель извлекает данные из тела
        сообщения
      </li>
    </ol>
    <img src="./media/03_steps.png" />
  </body>
</html>
